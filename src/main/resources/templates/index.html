<!DOCTYPE html>
<html lang="kr"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <title>My Page</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link
            rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
    <script th:src="@{https://cdn.jsdelivr.net/npm/jquery@3.6.4/dist/jquery.min.js}"
            src="https://cdn.jsdelivr.net/npm/jquery@3.6.4/dist/jquery.min.js"></script>
    <script th:src="@{https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js}"
            src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script th:src="@{https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js}"
            src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>

    <link href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote-bs4.min.css" rel="stylesheet">
    <script th:src="@{https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote-bs4.min.js}"
            src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote-bs4.min.js"></script>

<!--    <sec:authorize access="isAuthenticated()">-->
<!--        <sec:authentication property="principal" var="principal"/>-->
<!--    </sec:authorize>-->


</head>
<body th:with="principal=${#authentication.principal}">

<div class="jumbotron text-center" style="margin-bottom:0">
    <h1>My Page</h1>
</div>

<nav class="navbar navbar-expand-sm bg-dark navbar-dark">
    <a class="navbar-brand" href="/">HOME</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="collapsibleNavbar">

        <ul class="navbar-nav" th:if="${principal}==anonymousUser">
<!--            <c:when test="${empty principal}">-->
                <li class="nav-item">
                    <a class="nav-link"
                       th:href="@{/auth/login}"
                       href="/auth/login">로그인</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link"
                       th:href="@{/auth/join}"
                       href="/auth/join">회원가입</a>
                </li>
        </ul>

        <ul class="navbar-nav" th:unless="${principal}==anonymousUser">
            <li class="nav-item dropdown">
            <li class="nav-item">
                <a class="nav-link" href="/cfr">연예인 얼굴</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/board">글쓰기</a>
            </li>
            <a class="nav-link dropdown-toggle" href="#" id="navbardrop" data-toggle="dropdown" th:text="${principal.users.username}">
                    hello
            </a>
            <div class="dropdown-menu">
                <a class="dropdown-item" href="/user/detail">회원 정보</a>
                <a class="dropdown-item" href="/cfr/${principal.users.id}">cfr 리스트</a>
                <a class="dropdown-item" href="/logout">로그아웃</a>
            </div>
            </li>
        </ul>
    </div>
</nav>

<div class="main_wrap">


        <article>

<!--&lt;!&ndash;            <c:if test="${not empty boardView}">&ndash;&gt;-->
<!--                <div class="container-fluid" th:if="${boardView!=null}">-->
<!--                  <button class="btn btn-secondary" onclick="location.href='/'">목록</button>-->
<!--&lt;!&ndash;                  <c:if test="${boardView.users.id == principal.users.id}">&ndash;&gt;-->
<!--                    <a href="/board/${boardView.id}/updateForm" class="btn btn-warning" th:if="${boardView.users.id == #authentication.principal.users.id}">수정</a>-->
<!--                    <button id="btn-delete" class="btn btn-danger" th:if="${boardView.users.id == #authentication.principal.users.id}">삭제</button>-->
<!--&lt;!&ndash;                  </c:if>&ndash;&gt;-->
<!--                  <br/><br/>-->
<!--                  <div>-->
<!--                    작성자:<span><i th:text="${boardView.users.username}">${boardView.users.username}</i>&nbsp;&nbsp;&nbsp;</span>-->
<!--                    글 번호:<span id="id"><i th:text="${boardView.users.id}">${boardView.id}</i></span>-->
<!--                  </div>-->
<!--                  <br/>-->
<!--                  <div>-->
<!--                    <h3 th:text="${boardView.title}">${boardView.title}</h3>-->
<!--                  </div>-->
<!--                  <hr>-->
<!--                  <div>-->
<!--                    <div th:text="${boardView.content}">${boardView.content}</div>-->
<!--                  </div>-->
<!--                    <c:choose>-->
<!--                        <c:when test="${not empty principal}">-->
<!--                            <div class="card-body">-->
<!--                                <div class="row">-->
<!--                                  <div class="form-group col-sm-8">-->
<!--                                    <input class="form-control input-sm" id="comment" type="text" placeholder="댓글 입력...">-->
<!--                                  </div>-->
<!--                                  <div class="form-group col-sm-2">-->
<!--                                    <button type="button" class="btn btn-primary" id="btn-replySave">-->
<!--                                        저장-->
<!--                                    </button>-->
<!--                                  </div>-->
<!--                                </div>-->
<!--                            </div>-->
<!--                        </c:when>-->
<!--                        <c:otherwise>-->
<!--                            <div class="card-body" style="border: 1px solid;">-->
<!--                                <a href="/auth/login">댓글을 쓰려면 로그인 하시오.</a>-->
<!--                            </div>-->
<!--                        </c:otherwise>-->
<!--                    </c:choose>-->
<!--                    <c:forEach var="reply" items="${replyList}">-->
<!--                        <div style="display:flex;margin-top:10px;margin-left:${reply.id*10}px" name="comment_${reply.id}">-->
<!--                            <span style="width:130px;">${reply.comment} &nbsp;</span>-->
<!--                            <button type="button" onclick="newHello(${reply.id})" class="replyButton${reply.id}">버튼</button>-->
<!--                        </div>-->
<!--                    </c:forEach>-->
                </div>
<!--            </c:if>-->

<!--            <c:if test="${not empty boards}">-->
                <section class="content">
                    <div class="container-fluid">

                        <div class="list_wrap">
                          <div class="list-group cus-list">
                            <div class="list-group-item align-items-center list-head">
                                <div class="row-top">
                                    <div class="col-title">제목</div>
                                </div>
                                <div class="d-flex justify-content-between row-bottom">
                                    <div class="col-author">작성자</div>
                                    <div class="col-time">작성일</div>
                                    <div class="col-view">조회수</div>
                                    <div class="col-good">추천</div>
                                </div>
                            </div>
<!--                            <c:forEach var="board" items="${boards.content}">-->
                                <div class="cusHov list-body" th:each="board : ${boards.content}">
                                  <a class="list-bodyInner"
                                     th:href="@{|/${board.id}${state}page=${boards.number+1}|}"
                                     href="/${board.id}${state}page=${boards.number+1}">
                                    <div class="row-top">
                                        <div class="col-title" th:text="${board.title}">${board.title}</div>
                                    </div>
                                    <div class="row-bottom">
                                        <div class="col-author" th:text="${board.users.username}">${board.users.username}</div>
                                        <div class="row-bottom-rightInner">
                                            <div class="col-time" th:text="${board.createDate}">${board.createDate.substring(11, 16)}</div>
                                            <div class="col-view" th:text="${board.viewCount}">${board.viewCount}</div>
                                            <div class="col-good">0</div>
                                        </div>
                                    </div>
                                  </a>
                                </div>
<!--                            </c:forEach>-->

                          </div>
                        </div>

<!--                        <ul class="pagination justify-content-center">-->
<!--                          <c:choose>-->
<!--                            <c:when test="${boards.first}">-->
<!--                                <li class="page-item disabled"><a class="page-link" href="${state}page=${boards.number}"><</a></li>-->
<!--                            </c:when>-->
<!--                            <c:otherwise>-->
<!--                                <li class="page-item"><a class="page-link" href="${state}page=${boards.number}"><</a></li>-->
<!--                            </c:otherwise>-->
<!--                          </c:choose>-->
<!--                          <c:forEach var="cnt" begin="1" end="${boards.totalPages}">-->
<!--                            <c:choose>-->
<!--                              <c:when test="${boards.number == cnt-1}">-->
<!--                                <li class="page-item active"><a class="page-link" href="${state}page=${cnt}">${cnt}</a></li>-->
<!--                              </c:when>-->
<!--                              <c:otherwise>-->
<!--                                <li class="page-item"><a class="page-link" href="${state}page=${cnt}">${cnt}</a></li>-->
<!--                              </c:otherwise>-->
<!--                            </c:choose>-->
<!--                          </c:forEach>-->
<!--                          <c:choose>-->
<!--                            <c:when test="${boards.last}">-->
<!--                                <li class="page-item disabled"><a class="page-link" href="${state}page=${boards.number+2}">></a></li>-->
<!--                            </c:when>-->
<!--                            <c:otherwise>-->
<!--                                <li class="page-item"><a class="page-link" href="${state}page=${boards.number+2}">></a></li>-->
<!--                            </c:otherwise>-->
<!--                          </c:choose>-->
<!--                        </ul>-->

<!--                        <div class="pagination-wrapper">-->
<!--                            <ul class="pagination justify-content-center">-->
<!--                                <c:forEach var="cnt" begin="1" end="${boards.totalPages}">-->
<!--                                    <li class="page-item">-->
<!--                                        <a class="page-link" href="/b/hkstarrail?p=1">${cnt}</a>-->
<!--                                    </li>-->
<!--                                </c:forEach>-->
<!--                            </ul>-->
<!--                        </div>-->

                    </div>


                    <div class="searchBox">
                        <select id="searchKeyword">
                            <option value="title">제목</option>
                            <option value="writer">작성자</option>
                        </select>
                        <input class="searchInput" id="searchInput" type="text" />
                        <button class="searchButton" type="button" onclick="boardSearch()">
                            <img class="image-thumb" src="https://media.istockphoto.com/id/1167683205/ko/%EB%B2%A1%ED%84%B0/%EA%B2%80%EC%83%89-%EC%95%84%EC%9D%B4%EC%BD%98.jpg?s=612x612&w=0&k=20&c=zFYCQOhkQmFkjFOz8B0SnZpwnDv_M_n1D2jgrfzkLfk=">
                        </button>

                    </div>

                </section>
<!--            </c:if>-->

        </article>

            <aside class="main_aside">
                <div class="container-fluid">
                  <ul class="list-group" th:each="cfr : ${topRateCfr}">
<!--                    <:forEach var="cfr" items="${topRateCfr}">-->
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                          <a href="#" th:text="${cfr.value}">cfr.value</a>
                          <p th:text="${cfr.confidence}">cfr.confidence</p>
                          <span class="badge badge-primary badge-pill" th:text="${cfr.users.username}">cfr.users.username</span>
                        </li>
<!--                    </:forEach>-->
                  </ul>
                </div>
            </aside>


</div>




<!--    <script src="/js/reply.js"></script>-->
<!--    <script src="/js/board.js"></script>-->
    <link rel="stylesheet" href="/css/main.css" />

</body>
</html>

